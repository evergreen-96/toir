{% extends "base.html" %}
{% block title %}{{ object.name }}{% endblock %}

{% block content %}

<div class="row justify-content-center">
  <div class="col-xl-10 col-lg-11">

    <!-- ===== Header ===== -->
    <div class="d-flex justify-content-between align-items-start mb-4">
      <div>
        <h1 class="h4 mb-1">{{ object.name }}</h1>
        <div class="text-muted small">
          Карточка оборудования
        </div>
      </div>

      <div class="d-flex gap-2">
        <a
          class="btn btn-sm btn-outline-primary"
          href="{% url 'assets:asset_edit' object.pk %}"
        >
          Редактировать
        </a>
        <a
          class="btn btn-sm btn-outline-danger"
          href="{% url 'assets:asset_delete' object.pk %}"
        >
          Удалить
        </a>
      </div>
    </div>

    <div class="row g-4">

      <!-- ===== Основная информация ===== -->
      <div class="col-md-7">
        <div class="card shadow-sm border-0 h-100">
          <div class="card-body">

            <h6 class="fw-semibold mb-3">Основные данные</h6>

            <dl class="row mb-0">

              <dt class="col-sm-4 text-muted">Категория</dt>
              <dd class="col-sm-8">
                {{ object.get_category_display }}
              </dd>

              <dt class="col-sm-4 text-muted">Статус</dt>
              <dd class="col-sm-8">
                {{ object.get_status_display }}
              </dd>

              <dt class="col-sm-4 text-muted">Тип</dt>
              <dd class="col-sm-8">
                {{ object.type_name|default:"—" }}
              </dd>

              <dt class="col-sm-4 text-muted">Производитель / Модель</dt>
              <dd class="col-sm-8">
                {{ object.manufacturer|default:"—" }}
                {% if object.model %} {{ object.model }}{% endif %}
              </dd>

              <dt class="col-sm-4 text-muted">Серийный №</dt>
              <dd class="col-sm-8">
                {{ object.serial_number|default:"—" }}
              </dd>

              <dt class="col-sm-4 text-muted">Инвентарный №</dt>
              <dd class="col-sm-8">
                {{ object.inventory_number|default:"—" }}
              </dd>

              <dt class="col-sm-4 text-muted">Локация</dt>
              <dd class="col-sm-8">
                {{ object.location|default:"—" }}
              </dd>

              <dt class="col-sm-4 text-muted">Ответственный</dt>
              <dd class="col-sm-8">
                {{ object.responsible|default:"—" }}
              </dd>

              <dt class="col-sm-4 text-muted">Ввод в эксплуатацию</dt>
              <dd class="col-sm-8">
                {{ object.commissioning_date|default:"—" }}
              </dd>

              <dt class="col-sm-4 text-muted">Гарантия до</dt>
              <dd class="col-sm-8">
                {{ object.warranty_until|default:"—" }}
              </dd>

            </dl>

          </div>
        </div>
      </div>

      <!-- ===== Фото ===== -->
      <div class="col-md-5">
        <div class="card shadow-sm border-0 h-100">
          <div class="card-body text-center">

            <h6 class="fw-semibold mb-3">Фото</h6>

            {% if object.photo %}
              <img
                src="{{ object.photo.url }}"
                class="img-fluid rounded"
                alt="{{ object.name }}"
              >
            {% else %}
              <div class="text-muted small">
                Фото не загружено
              </div>
            {% endif %}

          </div>
        </div>
      </div>

    </div>

    <!-- ===== Описание ===== -->
    {% if object.description %}
      <div class="card shadow-sm border-0 mt-4">
        <div class="card-body">
          <h6 class="fw-semibold mb-3">Описание</h6>
          <div class="text-muted">
            {{ object.description|linebreaks }}
          </div>
        </div>
      </div>
    {% endif %}

  </div>
</div>

{% endblock %}
